<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Target Simulator - Monte Carlo Match Simulation | Ballistics Toolkit</title>
    <meta name="description" content="Monte Carlo match simulator with competitive targets. Analyze shooting performance with statistical modeling, realistic variability, and detailed scoring.">
    <meta name="keywords" content="target simulator, Monte Carlo simulation, competitive targets, match simulation, shooting statistics, score analysis">
    <link rel="canonical" href="https://www.ballisticstoolkit.com/target-sim/target-sim.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.ballisticstoolkit.com/target-sim/target-sim.html">
    <meta property="og:title" content="Target Simulator - Monte Carlo Match Simulation">
    <meta property="og:description" content="Monte Carlo match simulator with competitive targets. Analyze shooting performance with statistical modeling, realistic variability, and detailed scoring.">
    <meta property="og:image" content="https://www.ballisticstoolkit.com/ballistics-toolkit-logo.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.ballisticstoolkit.com/target-sim/target-sim.html">
    <meta property="twitter:title" content="Target Simulator - Monte Carlo Match Simulation">
    <meta property="twitter:description" content="Monte Carlo match simulator with competitive targets. Analyze shooting performance with statistical modeling, realistic variability, and detailed scoring.">
    <meta property="twitter:image" content="https://www.ballisticstoolkit.com/ballistics-toolkit-logo.png">
    
    <link rel="icon" type="image/x-icon" href="../ballistics-toolkit-favicon.ico">
    <link rel="stylesheet" href="../common.css">
    <link rel="stylesheet" href="target-sim.css">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Target Simulator",
      "description": "Monte Carlo match simulator with competitive targets and statistical analysis",
      "url": "https://www.ballisticstoolkit.com/target-sim/target-sim.html",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    
    <script src="../common.js"></script>
    <script type="module" src="target-sim.js"></script>
</head>
<body data-page="target-sim">
    <div class="nav-header">
        <!-- Navigation will be generated by common.js -->
    </div>

    <div class="app-container">
        <h1>ðŸŽ¯ Target Simulator</h1>
        
        <!-- Top Parameters Bar -->
        <div class="params-bar">
            <div class="param-item"><label for="bc" title="Ballistic Coefficient (0.001-1.0) - higher values mean better aerodynamics">BC</label><input type="number" id="bc" value="0.311" step="0.001" min="0.001" max="1.0" title="Ballistic Coefficient (0.001-1.0) - higher values mean better aerodynamics"></div>
            <div class="param-item"><label for="dragFunction" title="G7 is recommended for modern bullets, G1 for older data">Drag</label><select id="dragFunction" title="G7 is recommended for modern bullets, G1 for older data"><option value="G1">G1</option><option value="G7" selected>G7</option></select></div>
            <div class="param-item"><label for="mv" title="Muzzle velocity in feet per second">MV (fps)</label><input type="number" id="mv" value="2750" step="10" min="1000" max="5000" title="Muzzle velocity in feet per second"></div>
            <div class="param-item"><label for="weight" title="Bullet weight in grains">Weight (gr)</label><input type="number" id="weight" value="140" step="0.1" min="1" max="500" title="Bullet weight in grains"></div>
            <div class="param-item"><label for="diameter" title="Bullet diameter in inches (e.g., 0.264 for 6.5mm)">Dia (in)</label><input type="number" id="diameter" value="0.264" step="0.001" min="0.1" max="1.0" title="Bullet diameter in inches (e.g., 0.264 for 6.5mm)"></div>
            <div class="param-item"><label for="length" title="Bullet length in inches">Length (in)</label><input type="number" id="length" value="1.4" step="0.01" min="0.1" max="3.0" title="Bullet length in inches"></div>
            <div class="param-item"><label for="twistRate" title="Barrel twist rate in inches per turn (e.g., 8 for 1:8 twist, positive for RH, negative for LH)">Twist (in/turn)</label><input type="number" id="twistRate" value="8" step="0.1" min="0.1" max="20" title="Barrel twist rate in inches per turn (e.g., 8 for 1:8 twist, positive for RH, negative for LH)"></div>
            <div class="param-item"><label for="target" title="Target type for scoring">Target</label><select id="target" title="Target type for scoring"><option value="Loading...">Loading targets...</option></select></div>
            <div class="param-item"><label for="range" title="Target range in yards">Range (yd)</label><input type="number" id="range" value="600" step="50" min="100" max="1000" title="Target range in yards"></div>
            <div class="param-item"><label for="shots" title="Number of shots per match">Shots/Match</label><input type="number" id="shots" value="60" step="10" min="10" max="200" title="Number of shots per match"></div>
            <div class="param-item"><label for="matches" title="Number of matches to simulate">Matches</label><input type="number" id="matches" value="10" step="1" min="1" max="100" title="Number of matches to simulate"></div>
            <div class="param-item"><label for="mvSd" title="Muzzle velocity variation in fps - typical values: 5-15 fps">MV Ïƒ (fps)</label><input type="number" id="mvSd" value="7.0" step="0.5" min="0" max="50" title="Muzzle velocity variation in fps - typical values: 5-15 fps"></div>
            <div class="param-item"><label for="windSd" title="Crosswind (left/right) component standard deviation in mph - orthogonal to bullet path">Cross Wind Ïƒ (mph)</label><input type="number" id="windSd" value="1.0" step="0.1" min="0" max="20" title="Crosswind (left/right) component standard deviation in mph - orthogonal to bullet path"></div>
            <div class="param-item"><label for="headwindSd" title="Head/Tail wind component standard deviation in mph - parallel to bullet path">H/T Wind Ïƒ (mph)</label><input type="number" id="headwindSd" value="0.0" step="0.1" min="0" max="20" title="Head/Tail wind component standard deviation in mph - parallel to bullet path"></div>
            <div class="param-item"><label for="updraftSd" title="Vertical wind component standard deviation in mph - up/down air movement">Vert Wind Ïƒ (mph)</label><input type="number" id="updraftSd" value="0.0" step="0.1" min="0" max="20" title="Vertical wind component standard deviation in mph - up/down air movement"></div>
            <div class="param-item"><label for="rifleAccuracy" title="Rifle accuracy in MOA (1 MOA â‰ˆ 1 inch at 100 yards)">Accuracy (MOA)</label><input type="number" id="rifleAccuracy" value="0.25" step="0.05" min="0" max="5" title="Rifle accuracy in MOA (1 MOA â‰ˆ 1 inch at 100 yards)"></div>
            <div class="param-item"><label for="altitude" title="Altitude in feet above sea level">Alt (ft)</label><input type="number" id="altitude" value="0" step="100" min="0" max="10000" title="Altitude in feet above sea level"></div>
            <div class="param-item"><label for="temperature" title="Temperature in degrees Fahrenheit">Temp (Â°F)</label><input type="number" id="temperature" value="59" step="1" min="-50" max="120" title="Temperature in degrees Fahrenheit"></div>
            <div class="param-item"><label for="humidity" title="Relative humidity percentage">Humidity (%)</label><input type="number" id="humidity" value="50" step="1" min="0" max="100" title="Relative humidity percentage"></div>
        </div>


        <!-- Main Content -->
        <div class="main-content">
            <!-- Target Panel -->
            <div class="target-panel">
                <div class="target-status-bar">
                    <div style="display: flex; align-items: center; gap: 10px; justify-content: center;">
                        <button id="runBtn" class="btn btn-primary">Run Simulation</button>
                        <button id="stopBtn" class="btn btn-secondary" disabled>Stop</button>
                        <button id="helpBtn" class="btn btn-secondary">Help</button>
                    </div>
                    
                    <div id="liveScore" class="live-score" style="text-align: center; margin-top: 10px;">Estimated Avg Match Score: --- | Shots: 0/0</div>
                </div>
                <div class="target-container">
                    <div id="mousePositionBox" class="mouse-position-box" style="display: none;">
                        <div class="mouse-position-title">Mouse Position</div>
                        <div id="mousePositionContent" class="mouse-position-content">
                            X: 0.00"<br>Y: 0.00"
                        </div>
                    </div>
                    <canvas id="targetCanvas" width="600" height="600"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="loading">
        <div>Loading WebAssembly...</div>
    </div>


    <!-- Tooltip -->
    <div id="tooltip" class="tooltip" style="display: none;"></div>

    <!-- Help Modal -->
    <div id="helpModal" class="help-modal" style="display: none;">
        <div class="help-modal-content">
            <div class="help-modal-header">
                <h2>ðŸŽ¯ Target Simulator Help</h2>
                <span class="help-close">&times;</span>
            </div>
            <div class="help-modal-body">
                <div class="help-section">
                    <h3>Quick Start</h3>
                    <p>Configure bullet ballistics, select target specifications, set statistical variability parameters, and run Monte Carlo simulation.</p>
                </div>
                
                <div class="help-section">
                    <h3>Ballistic Parameters</h3>
                    <div class="param-help">
                        <strong>BC (Ballistic Coefficient):</strong> Drag coefficient relative to standard projectile. Higher values indicate better aerodynamic efficiency. Range: 0.1-0.8. Modern match bullets: 0.4-0.6, hunting bullets: 0.2-0.4.<br><br>
                        <strong>MV (Muzzle Velocity):</strong> Initial bullet velocity in fps. Critical for trajectory calculation and wind drift. Typical: .223 (3000+ fps), .308 (2600-2800 fps), .30-06 (2700-2900 fps).<br><br>
                        <strong>Diameter:</strong> Bullet caliber in inches. Used only for line-breaking rule in scoring (determines if shots hitting ring boundaries get the higher score). Common: .224" (.223), .264" (6.5mm), .308" (.308/.30-06).<br><br>
                        <strong>Drag Model:</strong> G1 (traditional) vs G7 (modern). G7 more accurate for boat tail bullets, G1 for flat base bullets.
                    </div>
                </div>
                
                <div class="help-section">
                    <h3>Target & Match Parameters</h3>
                    <div class="param-help">
                        <strong>Target Type:</strong> Standard competitive targets with specific ring diameters. SR (200-300yd), MR (300-600yd), LR (800-1000yd). FCA variants are custom-designed targets optimized for F-Class shooting with different ring proportions.<br><br>
                        <strong>Range:</strong> Distance to target in yards.<br><br>
                        <strong>Shots/Match:</strong> Number of rounds per match.<br><br>
                        <strong>Matches:</strong> Number of complete matches to simulate. Higher values improve statistical significance but increase computation time.
                    </div>
                </div>
                
                <div class="help-section">
                    <h3>Variability Parameters (Standard Deviations)</h3>
                    <div class="param-help">
                        <strong>MV Ïƒ (Muzzle Velocity SD):</strong> Statistical variation in muzzle velocity. Normal distribution clipped to Â±3Ïƒ. Typical: 3-15 fps.<br><br>
                        <strong>Cross Wind Ïƒ:</strong> Lateral wind component variation. Normal distribution clipped to Â±3Ïƒ. Primary cause of horizontal shot dispersion.<br><br>
                        <strong>H/T Wind Ïƒ:</strong> Head/tail wind variation. Normal distribution clipped to Â±3Ïƒ. Affects bullet velocity and drop slightly.<br><br>
                        <strong>Vert Wind Ïƒ:</strong> Vertical air movement variation. Normal distribution clipped to Â±3Ïƒ. Minimal effect on most ranges, air normally moves horizontally.<br><br>
                        <strong>Accuracy (MOA):</strong> Rifle+shooter precision in Minutes of Angle. Uniform distribution within circle of this diameter. 1 MOA â‰ˆ 1 inch at 100 yards. Match rifles: 0.25-0.5 MOA, hunting rifles: 1-2 MOA.
                    </div>
                </div>

                <div class="help-section">
                    <h3>Environmental Parameters</h3>
                    <div class="param-help">
                        <strong>Altitude:</strong> Height above sea level in feet. Affects air density - higher altitude = less air resistance. Sea level: 0 ft, high altitude: 5000+ ft.<br><br>
                        <strong>Temperature:</strong> Air temperature in Fahrenheit. Affects air density - higher temperature = less dense air. Standard: 59Â°F, range: -20Â°F to 120Â°F.<br><br>
                        <strong>Humidity:</strong> Relative humidity percentage. Higher humidity = slightly less air resistance (water vapor is lighter than dry air). Typical: 20-80%, affects bullet performance minimally.
                    </div>
                </div>
                
                <div class="help-section">
                    <h3>Simulation Results</h3>
                    <div class="param-help">
                        <strong>Estimated Score:</strong> Running average of total points and X-ring hits across all completed matches (based on shots per match setting). This estimate converges to the true average as more iterations are completed. Updates continuously as simulation progresses. Example: "585-27x" = 585 total points with 27 X-ring hits.<br><br>
                        <strong>Progress Display:</strong> Shows "Shots: XXX/YYY" indicating current shots processed vs total shots to simulate.<br><br>
                        <strong>Target Visualization:</strong> Red dots represent bullet impact points. Click on any dot to see detailed hit information (coordinates, score, ring). Use mouse wheel to zoom, drag to pan.<br><br>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
