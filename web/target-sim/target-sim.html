<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Target Simulator - Monte Carlo Match Simulation | Ballistics Toolkit</title>
    <meta name="description" content="Monte Carlo match simulator with competitive targets. Analyze shooting performance with statistical modeling, realistic variability, and detailed scoring.">
    <meta name="keywords" content="target simulator, Monte Carlo simulation, competitive targets, match simulation, shooting statistics, score analysis">
    <link rel="canonical" href="https://www.ballisticstoolkit.com/target-sim/target-sim.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.ballisticstoolkit.com/target-sim/target-sim.html">
    <meta property="og:title" content="Target Simulator - Monte Carlo Match Simulation">
    <meta property="og:description" content="Monte Carlo match simulator with competitive targets. Analyze shooting performance with statistical modeling, realistic variability, and detailed scoring.">
    <meta property="og:image" content="https://www.ballisticstoolkit.com/ballistics-toolkit-logo.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.ballisticstoolkit.com/target-sim/target-sim.html">
    <meta property="twitter:title" content="Target Simulator - Monte Carlo Match Simulation">
    <meta property="twitter:description" content="Monte Carlo match simulator with competitive targets. Analyze shooting performance with statistical modeling, realistic variability, and detailed scoring.">
    <meta property="twitter:image" content="https://www.ballisticstoolkit.com/ballistics-toolkit-logo.png">
    
    <link rel="icon" type="image/x-icon" href="../ballistics-toolkit-favicon.ico">
    <link rel="stylesheet" href="../common.css">
    <link rel="stylesheet" href="target-sim.css">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Target Simulator",
      "description": "Monte Carlo match simulator with competitive targets and statistical analysis",
      "url": "https://www.ballisticstoolkit.com/target-sim/target-sim.html",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    
    <script src="../common.js"></script>
    <script type="module" src="target-sim.js"></script>
</head>
<body data-page="target-sim">
    <div class="nav-header">
        <!-- Navigation will be generated by common.js -->
    </div>

    <div class="app-container">
        <h1>ðŸŽ¯ Target Simulator</h1>
        
        <!-- Top Parameters Bar -->
        <div class="params-bar">
            <div class="param-item"><label for="bc" title="Ballistic Coefficient (0.001-1.0) - higher values mean better aerodynamics">BC</label><input type="number" id="bc" value="0.311" step="0.001" min="0.001" max="1.0" title="Ballistic Coefficient (0.001-1.0) - higher values mean better aerodynamics"></div>
            <div class="param-item"><label for="dragFunction" title="G7 is recommended for modern bullets, G1 for older data">Drag</label><select id="dragFunction" title="G7 is recommended for modern bullets, G1 for older data"><option value="G1">G1</option><option value="G7" selected>G7</option></select></div>
            <div class="param-item"><label for="mv" title="Muzzle velocity in feet per second">MV (fps)</label><input type="number" id="mv" value="2750" step="10" min="1000" max="5000" title="Muzzle velocity in feet per second"></div>
            <div class="param-item"><label for="weight" title="Bullet weight in grains - required for spin moment of inertia calculations">Weight (gr)</label><input type="number" id="weight" value="140" step="0.1" min="1" max="500" title="Bullet weight in grains - required for spin moment of inertia calculations"></div>
            <div class="param-item"><label for="diameter" title="Bullet diameter in inches (e.g., 0.264 for 6.5mm) - used for spin aerodynamics and moment of inertia">Dia (in)</label><input type="number" id="diameter" value="0.264" step="0.001" min="0.1" max="1.0" title="Bullet diameter in inches (e.g., 0.264 for 6.5mm) - used for spin aerodynamics and moment of inertia"></div>
            <div class="param-item"><label for="length" title="Bullet length in inches - used for moment of inertia and spin aerodynamics calculations">Length (in)</label><input type="number" id="length" value="1.4" step="0.01" min="0.1" max="3.0" title="Bullet length in inches - used for moment of inertia and spin aerodynamics calculations"></div>
            <div class="param-item"><label for="twistRate" title="Barrel twist rate in inches per turn (e.g., 8 for 1:8 twist) - used to calculate bullet spin rate for spin drift and crosswind jump effects. Uses 4DOF simulation with simplified spin aerodynamics">Twist (in/turn)</label><input type="number" id="twistRate" value="8" step="0.1" min="0.1" max="20" title="Barrel twist rate in inches per turn (e.g., 8 for 1:8 twist) - used to calculate bullet spin rate for spin drift and crosswind jump effects. Uses 4DOF simulation with simplified spin aerodynamics"></div>
            <div class="param-item" style="display: flex; align-items: center; gap: 8px;"><input type="checkbox" id="enableSpinEffects" checked style="width: auto; margin: 0;"><label for="enableSpinEffects" style="margin: 0; font-weight: normal;" title="Enable spin drift and crosswind jump effects. Uncheck to disable experimental spin effects.">Enable Spin Effects</label></div>
            <div class="param-item"><label for="target" title="Target type for scoring">Target</label><select id="target" title="Target type for scoring"><option value="Loading...">Loading targets...</option></select></div>
            <div class="param-item"><label for="range" title="Target range in yards">Range (yd)</label><input type="number" id="range" value="600" step="50" min="100" max="1000" title="Target range in yards"></div>
            <div class="param-item"><label for="shots" title="Number of shots per match">Shots/Match</label><input type="number" id="shots" value="60" step="10" min="10" max="200" title="Number of shots per match"></div>
            <div class="param-item"><label for="matches" title="Number of matches to simulate">Matches</label><input type="number" id="matches" value="10" step="1" min="1" max="100" title="Number of matches to simulate"></div>
            <div class="param-item"><label for="mvSd" title="Muzzle velocity variation in fps - typical values: 5-15 fps">MV Ïƒ (fps)</label><input type="number" id="mvSd" value="7.0" step="0.5" min="0" max="50" title="Muzzle velocity variation in fps - typical values: 5-15 fps"></div>
            <div class="param-item"><label for="windSd" title="Crosswind (left/right) component standard deviation in mph - orthogonal to bullet path">Cross Wind Ïƒ (mph)</label><input type="number" id="windSd" value="1.0" step="0.1" min="0" max="20" title="Crosswind (left/right) component standard deviation in mph - orthogonal to bullet path"></div>
            <div class="param-item"><label for="headwindSd" title="Head/Tail wind component standard deviation in mph - parallel to bullet path">H/T Wind Ïƒ (mph)</label><input type="number" id="headwindSd" value="0.0" step="0.1" min="0" max="20" title="Head/Tail wind component standard deviation in mph - parallel to bullet path"></div>
            <div class="param-item"><label for="updraftSd" title="Vertical wind component standard deviation in mph - up/down air movement">Vert Wind Ïƒ (mph)</label><input type="number" id="updraftSd" value="0.0" step="0.1" min="0" max="20" title="Vertical wind component standard deviation in mph - up/down air movement"></div>
            <div class="param-item"><label for="rifleAccuracy" title="Rifle accuracy in MOA (1 MOA â‰ˆ 1 inch at 100 yards)">Accuracy (MOA)</label><input type="number" id="rifleAccuracy" value="0.25" step="0.05" min="0" max="5" title="Rifle accuracy in MOA (1 MOA â‰ˆ 1 inch at 100 yards)"></div>
            <div class="param-item"><label for="altitude" title="Altitude in feet above sea level">Alt (ft)</label><input type="number" id="altitude" value="0" step="100" min="0" max="10000" title="Altitude in feet above sea level"></div>
            <div class="param-item"><label for="temperature" title="Temperature in degrees Fahrenheit">Temp (Â°F)</label><input type="number" id="temperature" value="59" step="1" min="-50" max="120" title="Temperature in degrees Fahrenheit"></div>
            <div class="param-item"><label for="humidity" title="Relative humidity percentage">Humidity (%)</label><input type="number" id="humidity" value="50" step="1" min="0" max="100" title="Relative humidity percentage"></div>
        </div>


        <!-- Main Content -->
        <div class="main-content">
            <!-- Target Panel -->
            <div class="target-panel">
                <div class="target-status-bar">
                    <div style="display: flex; align-items: center; gap: 10px; justify-content: center;">
                        <button id="runBtn" class="btn btn-primary">Run Simulation</button>
                        <button id="stopBtn" class="btn btn-secondary" disabled>Stop</button>
                        <button id="helpBtn" class="btn btn-secondary">Help</button>
                    </div>
                    
                    <div id="liveScore" class="live-score" style="text-align: center; margin-top: 10px;">Estimated Avg Match Score: --- | Shots: 0/0</div>
                </div>
                <div class="target-container">
                    <div id="mousePositionBox" class="mouse-position-box" style="display: none;">
                        <div class="mouse-position-title">Mouse Position</div>
                        <div id="mousePositionContent" class="mouse-position-content">
                            X: 0.00"<br>Y: 0.00"
                        </div>
                    </div>
                    <canvas id="targetCanvas" width="600" height="600"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="loading">
        <div>Loading WebAssembly...</div>
    </div>


    <!-- Tooltip -->
    <div id="tooltip" class="tooltip" style="display: none;"></div>

    <!-- Help Modal -->
    <div id="helpModal" class="help-modal" style="display: none;">
        <div class="help-modal-content">
            <div class="help-modal-header">
                <h2>ðŸŽ¯ Target Simulator Help</h2>
                <span class="help-close">&times;</span>
            </div>
            <div class="help-modal-body">
                <div class="help-section" style="padding: 15px 0; border-bottom: 2px solid #ddd; margin-bottom: 20px;">
                    <h3 style="margin-top: 0;">Need Help or Found an Issue?</h3>
                    <div class="param-help">
                        <strong>ðŸ“§ Email:</strong> <a href="mailto:admin@ballisticstoolkit.com">admin@ballisticstoolkit.com</a><br>
                        <strong>ðŸ’» GitHub:</strong> <a href="https://github.com/chasep255/BallisticsToolkit" target="_blank" rel="noopener noreferrer">github.com/chasep255/BallisticsToolkit</a>
                    </div>
                </div>
                
                <div class="help-section">
                    <h3>Quick Start</h3>
                    <p>Configure bullet ballistics, select target specifications, set statistical variability parameters, and run Monte Carlo simulation.</p>
                </div>
                
                <div class="help-section">
                    <h3>Ballistic Parameters</h3>
                    <div class="param-help">
                        <strong>BC (Ballistic Coefficient):</strong> Aerodynamic efficiency. Higher = less drift and drop.<br><br>
                        <strong>Drag:</strong> G7 for modern boat-tails; G1 for older/flat-base data.<br><br>
                        <strong>MV (fps):</strong> Muzzle velocity in feet per second.<br><br>
                        <strong>Weight (gr):</strong> Bullet mass in grains.<br><br>
                        <strong>Diameter (in):</strong> Bullet caliber in inches (also used for lineâ€‘breaking scoring).<br><br>
                        <strong>Length (in):</strong> Bullet length in inches.<br><br>
                        <strong>Twist (in/turn):</strong> Barrel twist rate (e.g., 8 for 1:8 twist).<br><br>
                        <strong>Spin Effects:</strong> Includes spin drift and crosswind jump for realism.
                    </div>
                </div>
                
                <div class="help-section">
                    <h3>Target & Match Parameters</h3>
                    <div class="param-help">
                        <strong>Target Type:</strong> Standard competitive targets with specific ring diameters. SR (200-300yd), MR (300-600yd), LR (800-1000yd). FCA variants are custom-designed targets optimized for F-Class shooting with different ring proportions.<br><br>
                        <strong>Range:</strong> Distance to target in yards.<br><br>
                        <strong>Shots/Match:</strong> Number of rounds per match.<br><br>
                        <strong>Matches:</strong> Number of complete matches to simulate. Higher values improve statistical significance but increase computation time.
                    </div>
                </div>
                
                <div class="help-section">
                    <h3>Variability Parameters (Standard Deviations)</h3>
                    <div class="param-help">
                        <strong>MV Ïƒ (fps):</strong> Spread in muzzle velocity (lower = more consistent).<br><br>
                        <strong>Cross Wind Ïƒ (mph):</strong> Side-to-side wind variability (main driver of horizontal spread).<br><br>
                        <strong>H/T Wind Ïƒ (mph):</strong> Head/tail variability (small influence on drop).<br><br>
                        <strong>Vert Wind Ïƒ (mph):</strong> Up/down air movement (usually minor).<br><br>
                        <strong>Accuracy (MOA):</strong> Rifle+shooter precision; 1 MOA â‰ˆ 1" at 100 yd.
                    </div>
                </div>

                <div class="help-section">
                    <h3>Environmental Parameters</h3>
                    <div class="param-help">
                        <strong>Altitude:</strong> Height above sea level in feet. Affects air density - higher altitude = less air resistance. Sea level: 0 ft, high altitude: 5000+ ft.<br><br>
                        <strong>Temperature:</strong> Air temperature in Fahrenheit. Affects air density - higher temperature = less dense air. Standard: 59Â°F, range: -20Â°F to 120Â°F.<br><br>
                        <strong>Humidity:</strong> Relative humidity percentage. Higher humidity = slightly less air resistance (water vapor is lighter than dry air). Typical: 20-80%, affects bullet performance minimally.
                    </div>
                </div>
                
                <div class="help-section">
                    <h3>Simulation Results</h3>
                    <div class="param-help">
                        <strong>Estimated Score:</strong> Running average of total points and X-ring hits across all completed matches (based on shots per match setting). This estimate converges to the true average as more iterations are completed. Updates continuously as simulation progresses. Example: "585-27x" = 585 total points with 27 X-ring hits.<br><br>
                        <strong>Progress Display:</strong> Shows "Shots: XXX/YYY" indicating current shots processed vs total shots to simulate.<br><br>
                        <strong>Target Visualization:</strong> Red dots represent bullet impact points. Click on any dot to see detailed hit information (coordinates, score, ring). Use mouse wheel to zoom, drag to pan.<br><br>
                    </div>
                </div>

                <div class="help-section">
                    <h3>Technical Notes</h3>
                    <div class="param-help">
                        <strong>Monte Carlo:</strong> Perâ€‘shot draws from statistical distributions (velocity, wind, accuracy). Wind/MV treated as normal with clipping for outliers; accuracy modeled as a uniform circle in MOA for simplicity.<br><br>
                        <strong>Trajectory Engine:</strong> Same WebAssembly core as the Ballistic Calculator (RK2 integration). 4DOF with simplified spin effects available for realism.
                        <br><br>
                        <strong>Scoring:</strong> Competitive target specs with lineâ€‘breaking; bullet diameter is used to determine ring breaks on boundaries.
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
