<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Steel Target Simulator - Interactive Steel Range | Ballistics Toolkit</title>
  <meta name="description" content="Interactive steel range with full ballistics, wind presets, and reactive steel targets from 100 to 1760 yards (1 mile).">
  <meta name="keywords" content="steel target simulator, shooting simulator, long range shooting, 3D shooting game, ballistics simulation, steel target physics, FFP scope, MRAD dials, wind reading, spin drift, crosswind jump, impact detection">
  <link rel="canonical" href="https://www.ballisticstoolkit.com/steel-sim/steel-sim.html">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.ballisticstoolkit.com/steel-sim/steel-sim.html">
  <meta property="og:title" content="Steel Target Simulator - Interactive Steel Range">
  <meta property="og:description" content="Interactive steel range with full ballistics, wind presets, and reactive steel targets from 100 to 1760 yards (1 mile). Shoot with a pointer-lock FFP scope, MRAD dials, and realistic steel target physics with impact marks and dust effects.">
  <meta property="og:image" content="https://www.ballisticstoolkit.com/ballistics-toolkit-logo.png">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://www.ballisticstoolkit.com/steel-sim/steel-sim.html">
  <meta property="twitter:title" content="Steel Target Simulator - Interactive Steel Range">
  <meta property="twitter:description" content="Interactive steel range with full ballistics, wind presets, and reactive steel targets from 100 to 1760 yards (1 mile). Shoot with a pointer-lock FFP scope, MRAD dials, and realistic steel target physics with impact marks and dust effects.">
  <meta property="twitter:image" content="https://www.ballisticstoolkit.com/ballistics-toolkit-logo.png">
  
  <link rel="icon" type="image/x-icon" href="../ballistics-toolkit-favicon.ico">
  <link rel="stylesheet" href="../common.css">
  <link rel="stylesheet" href="steel-sim.css">
  
  <!-- Schema.org structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Steel Target Simulator",
    "description": "Interactive steel range with full ballistics, wind presets, and reactive steel targets from 100 to 1760 yards (1 mile).",
    "url": "https://www.ballisticstoolkit.com/steel-sim/steel-sim.html",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "Web Browser",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }
  </script>
  
  <script src="../common.js"></script>
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
      }
    }
  </script>
  <script type="module" src="steel-sim.js"></script>
</head>
<body data-page="steel-sim">
  <div class="nav-header"></div>

  <div class="app-container">
    <h1>ðŸ”© Steel Target Simulator</h1>

    <!-- Bullet Parameters -->
    <div class="params-bar" style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin: 20px 0; padding: 15px; background: #f5f5f5; border-radius: 5px;">
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="mv" title="Muzzle velocity in feet per second">MV (fps)</label>
        <input type="number" id="mv" value="2750" step="10" min="1000" max="5000" title="Muzzle velocity in feet per second" style="width: 100px; padding: 5px;">
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="bc" title="Ballistic Coefficient (0.001-1.0) - higher values mean better aerodynamics">BC</label>
        <input type="number" id="bc" value="0.311" step="0.001" min="0.001" max="1.0" title="Ballistic Coefficient (0.001-1.0) - higher values mean better aerodynamics" style="width: 100px; padding: 5px;">
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="dragFunction" title="G7 is recommended for modern bullets, G1 for older data">Drag</label>
        <select id="dragFunction" title="G7 is recommended for modern bullets, G1 for older data" style="width: 100px; padding: 5px;">
          <option value="G1">G1</option>
          <option value="G7" selected>G7</option>
        </select>
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="diameter" title="Bullet diameter in inches">Dia (in)</label>
        <input type="number" id="diameter" value="0.264" step="0.001" min="0.1" max="1.0" title="Bullet diameter in inches" style="width: 100px; padding: 5px;">
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="weight" title="Bullet weight in grains">Wt (gr)</label>
        <input type="number" id="weight" value="140" step="1" min="10" max="1000" title="Bullet weight in grains" style="width: 100px; padding: 5px;">
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="length" title="Bullet length in inches">Len (in)</label>
        <input type="number" id="length" value="1.4" step="0.01" min="0.1" max="5.0" title="Bullet length in inches" style="width: 100px; padding: 5px;">
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="twist" title="Barrel twist rate in inches per turn (e.g., 8 for 1:8 twist)">Twist (in/turn)</label>
        <input type="number" id="twist" value="8.0" step="0.1" min="1" max="20" title="Barrel twist rate in inches per turn (e.g., 8 for 1:8 twist)" style="width: 100px; padding: 5px;">
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="mvSd" title="Muzzle velocity variation in fps - typical values: 5-15 fps">MV Ïƒ (fps)</label>
        <input type="number" id="mvSd" value="7.0" step="0.5" min="0" max="50" title="Muzzle velocity variation in fps - typical values: 5-15 fps" style="width: 100px; padding: 5px;">
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="rifleAccuracy" title="Rifle accuracy in MOA (1 MOA â‰ˆ 1 inch at 100 yards)">Accuracy (MOA)</label>
        <input type="number" id="rifleAccuracy" value="0.25" step="0.05" min="0" max="5" title="Rifle accuracy in MOA (1 MOA â‰ˆ 1 inch at 100 yards)" style="width: 100px; padding: 5px;">
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="windPreset" title="Wind preset">Wind</label>
        <select id="windPreset" title="Wind preset" style="width: 120px; padding: 5px;">
          <option value="Moderate" selected>Moderate</option>
        </select>
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="zeroDistance" title="Zero distance in yards">Zero (yd)</label>
        <input type="number" id="zeroDistance" value="100" step="10" min="25" max="1000" title="Zero distance in yards" style="width: 100px; padding: 5px;">
      </div>
      <div class="param-item" style="display: flex; flex-direction: column; gap: 5px;">
        <label for="scopeHeight" title="Scope height above bore in inches">Scope Ht (in)</label>
        <input type="number" id="scopeHeight" value="2.0" step="0.1" min="0.5" max="10.0" title="Scope height above bore in inches" style="width: 100px; padding: 5px;">
      </div>
    </div>

    <!-- Control Buttons -->
    <div class="controls" style="display: flex; align-items: center; gap: 10px; justify-content: center; margin: 15px 0;">
      <button id="startBtn" class="btn btn-primary">Start</button>
      <button id="restartBtn" class="btn btn-secondary" style="display: none;">Restart</button>
      <button id="helpBtn" class="btn btn-secondary">Help</button>
      <button id="fullscreenBtn" class="btn btn-secondary" title="Toggle fullscreen mode">â›¶ Fullscreen</button>
    </div>

    <div id="error" class="error" style="display: none;"></div>
    
    <!-- Canvas Container -->
    <div class="canvas-container">
      <canvas id="steelCanvas"></canvas>
      
      <!-- Quick Key Guide -->
      <div class="quick-keys">
        <div class="quick-keys-section">
          <strong>Desktop:</strong> <kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd>/<kbd>E</kbd><kbd>Q</kbd> Spotting scope â€¢ Click rifle scope to enter â€¢ <kbd>Arrows</kbd> dial â€¢ <kbd>Esc</kbd> exit
        </div>
        <div class="quick-keys-section">
          <strong>Mobile:</strong> Drag to pan â€¢ Pinch to zoom â€¢ Tap to fire â€¢ Dial buttons next to HUD (hold to fast-dial)
        </div>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div id="helpModal" class="help-modal" style="display: none;">
    <div class="help-modal-content">
      <div class="help-modal-header">
        <h2>ðŸ”© Steel Target Simulator Help</h2>
        <span class="help-close">&times;</span>
      </div>
      <div class="help-modal-body">
        <div class="help-section" style="padding: 15px 0; border-bottom: 2px solid #ddd; margin-bottom: 20px;">
          <h3 style="margin-top: 0;">Need Help or Found an Issue?</h3>
          <div class="param-help">
            <strong>ðŸ“§ Email:</strong> <a href="mailto:admin@ballisticstoolkit.com">admin@ballisticstoolkit.com</a><br>
            <strong>ðŸ’» GitHub:</strong> <a href="https://github.com/chasep255/BallisticsToolkit" target="_blank" rel="noopener noreferrer">github.com/chasep255/BallisticsToolkit</a>
          </div>
        </div>
        
        <div class="help-section">
          <h3>Overview</h3>
          <p>Steel Target Simulator is an interactive steel range with full ballistics and steel target physics. Shoot at reactive steel racks from 100 to 1760 yards (1 mile) with 4DOF trajectory simulation, wind presets, spin effects, and realistic target responses to bullet impacts. A pointer-lock FFP scope, MRAD dials, wind flags, dust/metal effects, and a HUD make it a complete shooting experience.</p>
        </div>
        
        <div class="help-section">
          <h3>Controls</h3>
          <div class="param-help">
            <strong>Spotting Scope (Bottom-Left):</strong><br>
            - <kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd> Pan camera (always active, no pointer lock needed)<br>
            - <kbd>E</kbd>/<kbd>Q</kbd> Zoom in/out (4Ã— to 40Ã— magnification)<br>
            - Movement scales with FOV (slower when zoomed in)<br>
            - Use to observe targets, wind flags, and shot impacts<br>
            - No reticle (clean view for observation)<br><br>

            <strong>Rifle Scope (Bottom-Right):</strong><br>
            - Click inside the scope circle to enter scope mode (pointer lock activates)<br>
            - Move mouse to pan/aim the scope (reticle moves with cursor at 1:1 speed)<br>
            - <kbd>Mouse Wheel</kbd> or <kbd>+</kbd>/<kbd>-</kbd> Zoom in/out (4Ã— to 40Ã— magnification)<br>
            - Click to fire bullet from scope crosshair<br>
            - <kbd>Esc</kbd> to exit scope mode (releases pointer lock)<br>
            - <kbd>S</kbd> toggle scope overlay visibility on/off<br>
            - FFP reticle scales with zoom (maintains MRAD subtensions)<br><br>

            <strong>MRAD Dial Controls:</strong><br>
            - <kbd>ArrowUp</kbd>/<kbd>ArrowDown</kbd> dial elevation up/down (0.1 mrad per press; hold <kbd>Shift</kbd> for 1.0 mrad) - requires scope mode<br>
            - <kbd>ArrowLeft</kbd>/<kbd>ArrowRight</kbd> dial windage left/right (0.1 mrad per press; hold <kbd>Shift</kbd> for 1.0 mrad) - requires scope mode<br>
            - <kbd>R</kbd> reset both dials to zero (only when in rifle scope mode)<br>
            - On-screen dial buttons (â–²â–¼â—€â–¶âŸ²) next to HUD - click or hold to fast-dial, works anytime<br>
            - Dial position shown in HUD (upper-left)
          </div>
        </div>

        <div class="help-section">
          <h3>Mobile/Touch Controls</h3>
          <div class="param-help">
            <strong>Both Scopes:</strong><br>
            - <strong>Single-finger drag:</strong> Pan the scope view (hold ~150ms then drag)<br>
            - <strong>Pinch:</strong> Zoom in/out (4Ã— to 40Ã— magnification)<br><br>

            <strong>Rifle Scope:</strong><br>
            - <strong>Tap:</strong> Fire a shot (quick tap < 150ms)<br><br>

            <strong>Dial Buttons (on-screen, next to HUD):</strong><br>
            - <strong>â–²/â–¼:</strong> Adjust elevation up/down (0.1 mrad per tap, hold to fast-dial)<br>
            - <strong>â—€/â–¶:</strong> Adjust windage left/right (0.1 mrad per tap, hold to fast-dial)<br>
            - <strong>âŸ²:</strong> Reset both dials to zero<br><br>

            <strong>Fullscreen:</strong><br>
            - Use the Fullscreen button for immersive mobile play<br>
            - Canvas automatically adapts to your screen's aspect ratio<br>
            - Only works in landscape orientations
          </div>
        </div>
        
        <div class="help-section">
          <h3>Buttons</h3>
          <div class="param-help">
            - <strong>Start:</strong> Initialize the simulator and begin shooting<br>
            - <strong>Restart:</strong> Restart the simulator with current parameters<br>
            - <strong>Help:</strong> Show this help dialog<br>
            - <strong>Fullscreen:</strong> Enter fullscreen mode (also starts the game if not started). Canvas adapts to screen aspect ratio.<br>
            - Settings are automatically saved and restored using cookies on reload
          </div>
        </div>
        
        <div class="help-section">
          <h3>Targets & Range</h3>
          <div class="param-help">
            <strong>Target Racks:</strong> Multiple target racks positioned from 100 to 1760 yards (1 mile) with various target sizes and configurations. Targets include both rectangular and oval shapes with sizes ranging from ~2" chips up to large ~6â€‘ft gongs, roughly spanning 0.5â€“2+ MOA depending on distance and rack configuration.<br><br>
            
            <strong>Chain Mounting:</strong> Each target has two chains attached at the top, connecting to an overhead beam. Chains act as damped springs (10,000 N/m spring constant, 200 NÂ·s/m damping) that dissipate energy to prevent bouncing.<br><br>
            
            <strong>Impact Physics:</strong> Bullet impacts transfer momentum to targets. Center hits cause mostly linear motion; edge hits create rotation. Smaller targets respond more dramatically than larger ones. Linear damping (75% velocity per second) and angular damping (10% angular velocity per second) simulate air resistance and friction.
          </div>
        </div>
        
        <div class="help-section">
          <h3>Ballistic Parameters</h3>
          <div class="param-help">
            <strong>Bullet:</strong><br>
            - <strong>MV:</strong> Muzzle velocity in fps (critical for trajectory and time-of-flight)<br>
            - <strong>BC:</strong> Ballistic coefficient (aerodynamic efficiency, higher = less drift/drop)<br>
            - <strong>Drag Function:</strong> G7 (modern boat-tail) or G1 (flat-base/older)<br>
            - <strong>Diameter:</strong> Bullet diameter in inches (affects spin calculations)<br>
            - <strong>Weight:</strong> Bullet weight in grains (for spin moment of inertia)<br>
            - <strong>Length:</strong> Bullet length in inches (for spin calculations)<br>
            - <strong>Twist:</strong> Barrel twist rate in inches per turn (e.g., 8 for 1:8 twist, calculates spin rate)<br><br>

            <strong>Rifle:</strong><br>
            - <strong>MV Ïƒ:</strong> Muzzle velocity standard deviation in fps (lower = more consistent, typical values: 5-15 fps)<br>
            - <strong>Accuracy:</strong> Rifle+shooter precision in MOA (1 MOA â‰ˆ 1" at 100 yards)<br>
            - <strong>Zero Distance:</strong> Distance at which the rifle is zeroed in yards (commonly 100 yards; a dedicated 100â€‘yard rack is included)<br>
            - <strong>Scope Height:</strong> Height of the scope above the bore in inches<br><br>

            <strong>Spin Effects:</strong><br>
            - Spin drift and crosswind jump are modeled based on bullet spin rate calculated from barrel twist and muzzle velocity<br>
            - Spin rate is recomputed for each shot based on actual muzzle velocity (accounting for MV variation)<br><br>

            <strong>Variability:</strong><br>
            - Each shot has slightly different muzzle velocity (from MV Ïƒ) and accuracy errors (from rifle accuracy setting)<br>
            - These simulate real-world shot-to-shot variability<br><br>

            <strong>Zeroing:</strong><br>
            - Rifle is zeroed at the configured distance with scope height compensation<br>
            - Zeroing calculates the initial launch angle needed to hit the target point-of-aim at zero distance<br><br>

            <strong>Wind:</strong><br>
            - Wind presets (selected in the UI) control atmospheric conditions affecting bullet trajectory throughout the full 3D flight path<br>
            - Wind flags along the range show wind direction and intensity at multiple distances<br>
            - Wind affects bullet trajectory, not just dust particles
          </div>
        </div>
        
        <div class="help-section">
          <h3>Visual Effects</h3>
          <div class="param-help">
            <strong>Impact Marks:</strong> Bullet impacts appear as splatter marks on the target texture, with metal showing through the red paint on the side that was hit.<br><br>
            
            <strong>Dust Effects:</strong> Metallic dust particles (silver-gray) fly back when hitting targets. Brown dust clouds appear when missing and hitting the ground. Particles fade out over time.<br><br>
            
            <strong>Audio:</strong> Shot sounds play immediately on fire. Impact sounds (ping) play with distance-based delay and volume attenuation (full volume at 100 yards, fading to 10% at max range).
          </div>
        </div>
        
        <div class="help-section">
          <h3>HUD & Dial Buttons (Top-Left)</h3>
          <div class="param-help">
            <strong>HUD Text:</strong><br>
            - <strong>Elevation:</strong> Current elevation dial setting in mrad (U = up, D = down)<br>
            - <strong>Windage:</strong> Current windage dial setting in mrad (R = right, L = left)<br>
            - <strong>Impact Status:</strong> Shows "IMPACT" (green) when hitting targets, "MISS" (red) when missing<br><br>
            
            <strong>Dial Buttons (next to HUD):</strong><br>
            - â–²/â–¼ elevation, â—€/â–¶ windage, âŸ² reset<br>
            - Tap for single adjustment (0.1 mrad), hold for fast-dial
          </div>
        </div>

        <div class="help-section">
          <h3>Technical Details</h3>
          <div class="param-help">
            <strong>Physics Engine:</strong><br>
            - Custom rigid body physics in C++ (WebAssembly) with quaternion-based orientation for stable rotations<br>
            - Targets use momentum transfer with linear and angular damping<br><br>

            <strong>Rendering:</strong><br>
            - 3-pass composition system: background scene renders to texture, scope renders independently with zoom, then composited with reticle overlay<br>
            - Three.js WebGL with 4Ã— MSAA anti-aliasing<br>
            - Vertex positions computed in C++ and transferred via typed memory views<br><br>

            <strong>Scope Reticle:</strong><br>
            - Geometry-based reticle using Three.js meshes<br>
            - FFP behavior scales with zoom, maintaining MRAD subtensions<br><br>

            <strong>Impact Detection:</strong><br>
            - Spatial binning system (10m bins) for efficient collision detection<br>
            - Raycasting from trajectory path detects target intersections<br>
            - Impact points converted to local target coordinates for physics and texture drawing<br>
            - No collision detection between targets (simplified physics)<br><br>

            <strong>Texture System:</strong><br>
            - Targets use double-width texture buffer: front face UVs map to left half (0-0.5), back face to right half (0.5-1.0)<br>
            - Allows impacts to appear on the correct side<br><br>

            <strong>Chain Model:</strong><br>
            - Chains modeled as damped springs without mass or realistic chain link physics<br>
            - Cannot go slack or wrap around objects
          </div>
        </div>
        
        <div class="help-section">
          <h3>Tips for Success</h3>
          <div class="param-help">
            - Start with the 100-yard rack to confirm your zero<br>
            - Use wind flags at multiple distances to read wind gradients<br>
            - Watch target movement after impacts to understand hit location (center vs edge)<br>
            - Make small MRAD adjustments (0.1 mrad increments) for precise corrections<br>
            - Use <kbd>Shift</kbd>+<kbd>Arrow</kbd> keys for larger 1.0 mrad adjustments when needed<br>
            - Higher BC bullets drift less in the wind<br>
            - Lower MV Ïƒ = more consistent impacts<br>
            - Practice at shorter distances before attempting 1760 yards (1 mile)<br>
            - Use the HUD to track your dial settings and impact status
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

